{"version":3,"sources":["components/AxisBottom.js","components/AxisLeft.js","components/Marks.js","App.js","hooks/useData.js","reportWebVitals.js","index.js"],"names":["AxisBottom","xScale","innerHeight","ticks","map","tickValue","className","transform","y2","style","textAnchor","y","dy","AxisLeft","yScale","domain","x","bandwidth","Marks","data","xValue","yValue","idValue","selectedEntity","d","selected","parseInt","width","height","window","innerWidth","margin","console","log","App","useState","setData","years","length","year","Math","floor","random","indexOf","push","sort","a","b","useEffect","csv","forEach","toFixed","then","useData","entitiesName","setEntitiesName","reduce","acc","cur","value","Id","label","Estado","setSelectedEntity","entitiesYears","initialYear","selectedYear","setSelectedYear","sortBy","setSortBy","key","sortedData","scaleBand","range","paddingInner","scaleLinear","sum","maxIdh","minIdh","promIdh","entity","find","textAlign","options","onChange","placeholder","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0308dc03.chunk.js","sourcesContent":["export const AxisBottom = ({ xScale, innerHeight }) => {\r\n\treturn xScale.ticks().map((tickValue) => (\r\n\t\t<g\r\n\t\t\tclassName='tick'\r\n\t\t\tkey={tickValue}\r\n\t\t\ttransform={`translate(${xScale(tickValue)},0)`}\r\n\t\t>\r\n\t\t\t<line y2={innerHeight} />\r\n\t\t\t<text\r\n\t\t\t\tstyle={{ textAnchor: 'middle' }}\r\n\t\t\t\ty={innerHeight + 3}\r\n\t\t\t\tdy='0.73em'\r\n\t\t\t>\r\n\t\t\t\t{tickValue}\r\n\t\t\t</text>\r\n\t\t</g>\r\n\t));\r\n};\r\n","export const AxisLeft = ({ yScale }) => {\r\n\treturn yScale.domain().map((tickValue) => (\r\n\t\t<g key={tickValue} className='tick'>\r\n\t\t\t<text\r\n\t\t\t\tstyle={{ textAnchor: 'end' }}\r\n\t\t\t\tdy='.32em'\r\n\t\t\t\tx={-3}\r\n\t\t\t\ty={yScale(tickValue) + yScale.bandwidth() / 2}\r\n\t\t\t>\r\n\t\t\t\t{tickValue}\r\n\t\t\t</text>\r\n\t\t</g>\r\n\t));\r\n};\r\n","export const Marks = ({\r\n\tdata,\r\n\tyScale,\r\n\txScale,\r\n\txValue,\r\n\tyValue,\r\n\tidValue,\r\n\tselectedEntity,\r\n}) => {\r\n\treturn data.map((d) => {\r\n\t\tconst selected = parseInt(idValue(d)) === selectedEntity;\r\n\t\treturn (\r\n\t\t\t<rect\r\n\t\t\t\tclassName={`mark${selected ? ' selected' : ''}`}\r\n\t\t\t\tkey={yValue(d)}\r\n\t\t\t\tx={0}\r\n\t\t\t\ty={yScale(yValue(d))}\r\n\t\t\t\twidth={xScale(xValue(d))}\r\n\t\t\t\theight={yScale.bandwidth()}\r\n\t\t\t>\r\n\t\t\t\t<title>\r\n\t\t\t\t\t{d['Estado']} - Indice de Desarrollo Humano: {xValue(d)}\r\n\t\t\t\t</title>\r\n\t\t\t</rect>\r\n\t\t);\r\n\t});\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport './styles/style.css';\nimport { scaleBand, scaleLinear } from 'd3';\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\n\nimport { useData } from './hooks/useData';\nimport { AxisBottom } from './components/AxisBottom';\nimport { AxisLeft } from './components/AxisLeft';\nimport { Marks } from './components/Marks';\n\nconst width = window.innerWidth;\nconst height = 500;\nconst margin = { top: 20, right: 30, bottom: 65, left: 70 };\nconst xAxisLabelOffset = 50;\n\nconsole.log(width);\nfunction App() {\n\tconst [data, setData, years] = useData();\n\n\tconst innerHeight = height - margin.top - margin.bottom;\n\tconst innerWidth = width - margin.left - margin.right;\n\n\t//DROPDOWN TO SELECT ENTITY:\n\tconst [entitiesName, setEntitiesName] = useState([]);\n\tuseEffect(() => {\n\t\tsetEntitiesName(\n\t\t\tdata\n\t\t\t\t? data.reduce((acc, cur) => {\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\tvalue: parseInt(cur.Id),\n\t\t\t\t\t\t\tlabel: cur.Estado,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn acc;\n\t\t\t\t  }, [])\n\t\t\t\t: [],\n\t\t);\n\t}, [data]);\n\tconst initialEntity = 0;\n\tconst [selectedEntity, setSelectedEntity] = useState(initialEntity);\n\tconst idValue = (d) => d.Id;\n\n\t//DROPDOWN YEAR:\n\tconst [entitiesYears] = useState(years);\n\tconst initialYear = entitiesYears[entitiesYears.length - 1];\n\n\tconst [selectedYear, setSelectedYear] = useState(initialYear);\n\n\t//DROPDOWN TO SORT:\n\tconst [sortBy, setSortBy] = useState(0);\n\tconst sortOptions = [\n\t\t{ label: 'Alfabeticamente (A - Z)', value: 'alphabetically' },\n\t\t{ label: 'Ascendente (0 - 1) ', value: 'ascending' },\n\t\t{ label: 'Descendente (1 - 0)', value: 'descending' },\n\t];\n\n\tuseEffect(() => {\n\t\tif (sortBy === 0) return;\n\t\tlet key = sortBy === 'alphabetically' ? 'Estado' : selectedYear;\n\t\tlet sortedData = [...data].sort((a, b) => {\n\t\t\tif (sortBy === 'ascending' || sortBy === 'alphabetically')\n\t\t\t\treturn a[key] < b[key] ? -1 : a[key] > b[key] ? 1 : 0;\n\t\t\telse return a[key] > b[key] ? -1 : a[key] < b[key] ? 1 : 0;\n\t\t});\n\n\t\tsetData([...sortedData]);\n\t}, [sortBy, data, setData, selectedYear]);\n\n\tconst yValue = (d) => d['ISO 3166-2 (3 Dígitos)'];\n\tconst xValue = (d) => d[selectedYear];\n\n\tconst yScale =\n\t\tdata &&\n\t\tscaleBand()\n\t\t\t.domain(data.map(yValue))\n\t\t\t.range([0, innerHeight])\n\t\t\t.paddingInner(0.15);\n\n\tconst xScale =\n\t\tdata && scaleLinear().domain([0, 1]).range([0, innerWidth]);\n\n\tlet sum = 0;\n\tlet maxIdh = 0;\n\tlet minIdh = 1;\n\tlet promIdh = 1;\n\n\tuseEffect(() => {\n\t\tconst entity = data\n\t\t\t? data.find((entity) => parseInt(entity.Id) === selectedEntity)\n\t\t\t: {};\n\n\t\tentitiesYears.forEach((year) => {\n\t\t\tif (entity[year] >= maxIdh) maxIdh = entity[year];\n\t\t\tif (entity[year] <= minIdh) minIdh = entity[year];\n\t\t\tsum += entity[year];\n\t\t});\n\n\t\tpromIdh = sum / entitiesYears.length;\n\n\t\tconsole.log(entity);\n\t\t// eslint-disable-next-line\n\t}, [selectedEntity, entitiesYears]);\n\n\treturn (\n\t\t<>\n\t\t\t<h1 style={{ textAlign: 'center' }}>\n\t\t\t\tPrueba D3 - Índice de Desarrollo Humano\n\t\t\t</h1>\n\t\t\t{!data ? (\n\t\t\t\t<pre>Loading...</pre>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className='menus-container'>\n\t\t\t\t\t\t<div className='dropdown-menu'>\n\t\t\t\t\t\t\t<span className='dropdown-label'>Estado:</span>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\toptions={entitiesName}\n\t\t\t\t\t\t\t\tvalue={selectedEntity.value}\n\t\t\t\t\t\t\t\tonChange={({ value }) => setSelectedEntity(value)}\n\t\t\t\t\t\t\t\tplaceholder='Selecciona un Estado'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='dropdown-menu'>\n\t\t\t\t\t\t\t<span className='dropdown-label'>Año:</span>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\toptions={entitiesYears}\n\t\t\t\t\t\t\t\tvalue={selectedYear.value}\n\t\t\t\t\t\t\t\tonChange={({ value }) => setSelectedYear(value)}\n\t\t\t\t\t\t\t\tplaceholder='Selecciona un Año'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='dropdown-menu'>\n\t\t\t\t\t\t\t<span className='dropdown-label'>Ordenar Datos:</span>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\toptions={sortOptions}\n\t\t\t\t\t\t\t\tvalue={sortBy.value}\n\t\t\t\t\t\t\t\tonChange={({ value }) => setSortBy(value)}\n\t\t\t\t\t\t\t\tplaceholder='Selecciona un Orden'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<svg width={width} height={height}>\n\t\t\t\t\t\t<g transform={`translate(${margin.left}, ${margin.top})`}>\n\t\t\t\t\t\t\t<AxisBottom xScale={xScale} innerHeight={innerHeight} />\n\t\t\t\t\t\t\t<AxisLeft yScale={yScale} />\n\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\tclassName='axis-label'\n\t\t\t\t\t\t\t\tx={innerWidth / 2}\n\t\t\t\t\t\t\t\ttextAnchor='middle'\n\t\t\t\t\t\t\t\ty={innerHeight + xAxisLabelOffset}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tIDH\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t<Marks\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\t\t\txValue={xValue}\n\t\t\t\t\t\t\t\tyValue={yValue}\n\t\t\t\t\t\t\t\tidValue={idValue}\n\t\t\t\t\t\t\t\tselectedEntity={selectedEntity}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div className='entity-statistics'>\n\t\t\t\t\t\t{selectedEntity ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h2>Estadisticas:</h2>\n\t\t\t\t\t\t\t\t<h3>Promedio IDH:{promIdh}</h3>\n\t\t\t\t\t\t\t\t<h3>IDH más alto:{maxIdh}</h3>\n\t\t\t\t\t\t\t\t<h3>IDH más bajo:{minIdh}</h3>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default App;\n","import { useState, useEffect } from 'react';\r\n\r\nimport { csv } from 'd3';\r\n\r\nconst csvUrl =\r\n\t'https://gist.githubusercontent.com/nykko7/7502eb16b0636c616b07947ac61553d8/raw/609c1e821716d3e64b7baf8fbb9e4546337062ef/Entidades_Mexico.csv';\r\n\r\nexport const useData = () => {\r\n\tconst [data, setData] = useState(null);\r\n\tlet years = [];\r\n\r\n\twhile (years.length < 7) {\r\n\t\tlet year = Math.floor(Math.random() * (2020 - 1950)) + 1950;\r\n\t\tif (years.indexOf(year) === -1) years.push(year);\r\n\t}\r\n\tyears = [...years].sort((a, b) => a - b);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst row = (d) => {\r\n\t\t\tyears.forEach((year) => {\r\n\t\t\t\td[year] = Math.random().toFixed(2);\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t};\r\n\t\tcsv(csvUrl, row).then(setData);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn [data, setData, years];\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}