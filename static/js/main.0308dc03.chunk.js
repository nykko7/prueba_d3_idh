(this.webpackJsonpprueba_d3_idh=this.webpackJsonpprueba_d3_idh||[]).push([[0],{58:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(24),r=n.n(s),i=n(12),l=n(3),o=(n(58),n(11)),d=n(15),u=n.n(d),j=(n(61),n(0)),b=function(e){var t=e.xScale,n=e.innerHeight;return t.ticks().map((function(e){return Object(j.jsxs)("g",{className:"tick",transform:"translate(".concat(t(e),",0)"),children:[Object(j.jsx)("line",{y2:n}),Object(j.jsx)("text",{style:{textAnchor:"middle"},y:n+3,dy:"0.73em",children:e})]},e)}))},h=function(e){var t=e.yScale;return t.domain().map((function(e){return Object(j.jsx)("g",{className:"tick",children:Object(j.jsx)("text",{style:{textAnchor:"end"},dy:".32em",x:-3,y:t(e)+t.bandwidth()/2,children:e})},e)}))},O=function(e){var t=e.data,n=e.yScale,c=e.xScale,a=e.xValue,s=e.yValue,r=e.idValue,i=e.selectedEntity;return t.map((function(e){var t=parseInt(r(e))===i;return Object(j.jsx)("rect",{className:"mark".concat(t?" selected":""),x:0,y:n(s(e)),width:c(a(e)),height:n.bandwidth(),children:Object(j.jsxs)("title",{children:[e.Estado," - Indice de Desarrollo Humano: ",a(e)]})},s(e))}))},x=window.innerWidth,f=20,m=30,p=65,v=70;console.log(x);var g=function(){var e=function(){for(var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],s=[];s.length<7;){var r=Math.floor(70*Math.random())+1950;-1===s.indexOf(r)&&s.push(r)}return s=Object(i.a)(s).sort((function(e,t){return e-t})),Object(c.useEffect)((function(){Object(o.a)("https://gist.githubusercontent.com/nykko7/7502eb16b0636c616b07947ac61553d8/raw/609c1e821716d3e64b7baf8fbb9e4546337062ef/Entidades_Mexico.csv",(function(e){return s.forEach((function(t){e[t]=Math.random().toFixed(2)})),e})).then(a)}),[]),[n,a,s]}(),t=Object(l.a)(e,3),n=t[0],a=t[1],s=t[2],r=500-f-p,d=x-v-m,g=Object(c.useState)([]),y=Object(l.a)(g,2),S=y[0],E=y[1];Object(c.useEffect)((function(){E(n?n.reduce((function(e,t){return e.push({value:parseInt(t.Id),label:t.Estado}),e}),[]):[])}),[n]);var w=Object(c.useState)(0),I=Object(l.a)(w,2),N=I[0],D=I[1],A=Object(c.useState)(s),k=Object(l.a)(A,1)[0],F=k[k.length-1],H=Object(c.useState)(F),C=Object(l.a)(H,2),V=C[0],M=C[1],_=Object(c.useState)(0),P=Object(l.a)(_,2),L=P[0],B=P[1];Object(c.useEffect)((function(){if(0!==L){var e="alphabetically"===L?"Estado":V,t=Object(i.a)(n).sort((function(t,n){return"ascending"===L||"alphabetically"===L?t[e]<n[e]?-1:t[e]>n[e]?1:0:t[e]>n[e]?-1:t[e]<n[e]?1:0}));a(Object(i.a)(t))}}),[L,n,a,V]);var J=function(e){return e["ISO 3166-2 (3 D\xedgitos)"]},T=n&&Object(o.b)().domain(n.map(J)).range([0,r]).paddingInner(.15),W=n&&Object(o.c)().domain([0,1]).range([0,d]),Z=0,q=0,z=1,G=1;return Object(c.useEffect)((function(){var e=n?n.find((function(e){return parseInt(e.Id)===N})):{};k.forEach((function(t){e[t]>=q&&(q=e[t]),e[t]<=z&&(z=e[t]),Z+=e[t]})),G=Z/k.length,console.log(e)}),[N,k]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{textAlign:"center"},children:"Prueba D3 - \xcdndice de Desarrollo Humano"}),n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"menus-container",children:[Object(j.jsxs)("div",{className:"dropdown-menu",children:[Object(j.jsx)("span",{className:"dropdown-label",children:"Estado:"}),Object(j.jsx)(u.a,{options:S,value:N.value,onChange:function(e){var t=e.value;return D(t)},placeholder:"Selecciona un Estado"})]}),Object(j.jsxs)("div",{className:"dropdown-menu",children:[Object(j.jsx)("span",{className:"dropdown-label",children:"A\xf1o:"}),Object(j.jsx)(u.a,{options:k,value:V.value,onChange:function(e){var t=e.value;return M(t)},placeholder:"Selecciona un A\xf1o"})]}),Object(j.jsxs)("div",{className:"dropdown-menu",children:[Object(j.jsx)("span",{className:"dropdown-label",children:"Ordenar Datos:"}),Object(j.jsx)(u.a,{options:[{label:"Alfabeticamente (A - Z)",value:"alphabetically"},{label:"Ascendente (0 - 1) ",value:"ascending"},{label:"Descendente (1 - 0)",value:"descending"}],value:L.value,onChange:function(e){var t=e.value;return B(t)},placeholder:"Selecciona un Orden"})]})]}),Object(j.jsx)("svg",{width:x,height:500,children:Object(j.jsxs)("g",{transform:"translate(".concat(v,", ").concat(f,")"),children:[Object(j.jsx)(b,{xScale:W,innerHeight:r}),Object(j.jsx)(h,{yScale:T}),Object(j.jsx)("text",{className:"axis-label",x:d/2,textAnchor:"middle",y:r+50,children:"IDH"}),Object(j.jsx)(O,{data:n,xScale:W,yScale:T,xValue:function(e){return e[V]},yValue:J,idValue:function(e){return e.Id},selectedEntity:N})]})}),Object(j.jsx)("div",{className:"entity-statistics",children:N?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Estadisticas:"}),Object(j.jsxs)("h3",{children:["Promedio IDH:",G]}),Object(j.jsxs)("h3",{children:["IDH m\xe1s alto:",q]}),Object(j.jsxs)("h3",{children:["IDH m\xe1s bajo:",z]})]}):""})]}):Object(j.jsx)("pre",{children:"Loading..."})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),y()}},[[63,1,2]]]);
//# sourceMappingURL=main.0308dc03.chunk.js.map